{% extends "base.html" %} {% load static %} {% block content %}
<div class="container mt-5">
  <h2 class="mb-4">Avaliações Realizadas</h2>
  <div class="table-responsive">

    <div class="search-container">
<input class="search-fruits" type="text">
  </div>
    <a href="{% url 'export_all_evaluations' %}" class="download-button">Exportar Todas as Avaliações</a>

    <table class="table table-striped table-hover">
      <thead class="thead-dark">
        <tr>
          <th>Avaliador</th>
          <th>Avaliado</th>
          <th>Cliente</th>
          <th>Data</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for evaluation in evaluations %}
        <tr>
          <td>
            {{ evaluation.schedule.evaluator.first_name }}
            {{evaluation.schedule.evaluator.last_name }}
          </td>
          <td>
            {{evaluation.schedule.evaluatee.first_name }}
            {{evaluation.schedule.evaluatee.last_name }}
          </td>
          <td>{{ evaluation.schedule.client.name }}</td>
          <td>{{ evaluation.date_completed|date:"d/m/Y" }}</td>
          <td>
            <a
              href="{% url 'evaluation_detail' evaluation.id %}"
              class="detail-button"
              >Detalhes</a
            >
            <a
            href="{% url 'export_evaluation' evaluation.id %}"
            class="download-button"
            >Baixar</a
          >
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <script>
let inputElement = document.querySelector("input")
let listElement = document.querySelector("tr")
let itemElement = listElement.querySelectorAll("td")
inputElement.addEventListener("input", (e) => {
  let inputed = e.target.value.toLowerCase()
  itemElement.forEach((li) => {
    let text = li.textContent.toLowerCase()
    if(text.includes(inputed)){
      li.style.display = "block"
    }else{
      li.style.display = "none"
    }
  })
})
</script>